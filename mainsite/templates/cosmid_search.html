{% extends "base.html" %}

{% block head %}
    <title>
        Search Cosmids
    </title>
    
    <!-- script used from this site - http://www.elated.com/articles/javascript-tabs -->
    <script type="text/javascript">
    //<![CDATA[
    var tabLinks = new Array();
    var contentDivs = new Array();

    function init() {

      // Grab the tab links and content divs from the page
      var tabListItems = document.getElementById('tabs').childNodes;
      for ( var i = 0; i < tabListItems.length; i++ ) {
        if ( tabListItems[i].nodeName == "LI" ) {
          var tabLink = getFirstChildWithTagName( tabListItems[i], 'A' );
          var id = getHash( tabLink.getAttribute('href') );
          tabLinks[id] = tabLink;
          contentDivs[id] = document.getElementById( id );
        }
      }

      // Assign onclick events to the tab links, and
      // highlight the first tab
      var i = 0;

      for ( var id in tabLinks ) {
        tabLinks[id].onclick = showTab;
        tabLinks[id].onfocus = function() { this.blur() };
        if ( i == 0 ) tabLinks[id].className = 'selected';
        i++;
      }

      // Hide all content divs except the first
      var i = 0;

      for ( var id in contentDivs ) {
        if ( i != 0 ) contentDivs[id].className = 'tabContent hide';
        i++;
      }
    }

    function showTab() {
      var selectedId = getHash( this.getAttribute('href') );

      // Highlight the selected tab, and dim all others.
      // Also show the selected content div, and hide all others.
      for ( var id in contentDivs ) {
        if ( id == selectedId ) {
          tabLinks[id].className = 'selected';
          contentDivs[id].className = 'tabContent';
        } else {
          tabLinks[id].className = '';
          contentDivs[id].className = 'tabContent hide';
        }
      }

      // Stop the browser following the link
      return false;
    }

    function getFirstChildWithTagName( element, tagName ) {
      for ( var i = 0; i < element.childNodes.length; i++ ) {
        if ( element.childNodes[i].nodeName == tagName ) return element.childNodes[i];
      }
    }

    function getHash( url ) {
      var hashPos = url.lastIndexOf ( '#' );
      return url.substring( hashPos + 1 );
    }

    //]]>
    </script>
    
    <style>
        ul#tabs {
    list-style-type: none;
    margin: 30px 0 0 0;
    padding: 0 0 0.3em 0;
}
ul#tabs li {
    display: inline;
}
ul#tabs li a {
    color: #42454a;
    background-color:
    #dedbde; border:
    1px solid #c9c3ba;
    border-bottom: none;
    padding: 0.3em;
    text-decoration: none;
}
ul#tabs li a:hover {
    background-color: #f1f0ee;
}
ul#tabs li a.selected {
    color: #000;
    background-color: #f1f0ee;
    font-weight: bold;
    padding: 0.7em 0.3em 0.38em 0.3em;
}
div.tabContent {
    border: 1px solid #c9c3ba;
    padding: 0.5em;
    background-color: #f1f0ee;
}
div.tabContent.hide {
    display: none;
}
    </style>
{% endblock %}

{% block content %}
    <img src="{{ STATIC_URL }}icons/search64.png"><h2 class="search">Search Cosmids</h2>
    <ul id="tabs">
        <li><a href="#Basic">Basic Search</a></li>
        <li><a href="#Advanced">Advanced Search</a></li>
        <li><a href="#BLAST">BLAST</a></li>
    </ul>
    <div class="tabContent" id="Advanced">
        <form action="{% url 'cosmid-results' %}" method="get">
            <table class="search">
                {{ advancedform }}
            </table>
            <input type="submit" value="Search">
        </form>
    </div>
    
    <div class="tabContent" id="Basic">
        <form action="{% url 'all-results' %}" method="get">
            <table class="search">
                {{ basicform }}
            </table>
            <input type="submit" value="Search">
        </form>
    </div>
    
    <div class="tabContent" id="BLAST">
        <form action="{% url 'blast-results' %}?from={{ request.path}}" method="post">
            <table class="search">
                {% csrf_token %}
                {{ blast_form }}
            </table>
            <input type="submit" value="Search">
        </form>
    </div>
{% endblock %}

{% block second %}
    <section id="second">
        <h3>Quick Links</h3>
        <a href="{% url 'cosmid-end-tag-list' %}"><img class="viewall" src="{{ STATIC_URL }}icons/allblack.png" alt="all">View All</a><br>
    </section>
{% endblock %}

{# 
<!--add tag extends "search.html" add tag

{% block pagetitle%}
    Search Cosmids
{% endblock %}

{% block title %}
    <img src="{{ STATIC_URL }}icons/search64.png"><h2 class="search">Search Cosmids</h2>
{% endblock %}

{% block urlform %}
    {% url 'cosmid-results' %}
{% endblock %}
    
{% block methodform %}
    get
{% endblock %}

{% block form %}
    {{ form }}
{% endblock %}

{% block link %}
<a href="{% url 'cosmid-end-tag-list' %}"><img class="viewall" src="{{ STATIC_URL }}icons/allblack.png" alt="all">View All</a><br>
{% endblock %}-->
#}